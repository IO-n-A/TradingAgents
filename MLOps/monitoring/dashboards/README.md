# MLOps Monitoring Dashboards

This directory is intended to store configurations and scripts related to monitoring dashboards for the FinAI_algo MLOps system. Dashboards provide a visual way to track the health and performance of data pipelines, models, and infrastructure components.

Two primary tools are considered for dashboarding as per the `analysis/implementation.md`:

1.  **Streamlit (`streamlit_app.py`):** For custom, interactive Python-based dashboards, particularly useful for detailed views of data quality, model predictions, and agent performance.
2.  **Grafana (`grafana_dashboard.json`):** For time-series metrics visualization, typically integrated with Prometheus as a data source. Useful for monitoring system health, pipeline throughput, error rates, and other operational metrics.

## Files

*   **`streamlit_app.py`**:
    *   A Python script that uses the Streamlit library to create an interactive web application for MLOps monitoring.
    *   **Potential Dashboards within the Streamlit App:**
        *   **Data Quality Dashboard:** Visualizing statistics of raw and processed data (e.g., news volume, financial data distributions, missing values).
        *   **Sentiment Model Dashboard:** Tracking sentiment score distributions, model confidence, and potentially drift in sentiment predictions over time.
        *   **RL Agent Performance Dashboard:** Displaying backtesting results (cumulative returns, Sharpe ratio, drawdown), comparison of different agent versions, and potentially paper trading performance.
        *   **Correlation Dashboard:** Showing correlations between sentiment signals, market movements, and agent actions.
    *   This script will load data (e.g., from CSVs, databases, or DVC-tracked files) and use libraries like Pandas, Matplotlib, Seaborn, Plotly, and QuantStats for visualizations.

*   **`grafana_dashboard.json`**:
    *   A JSON configuration file representing a Grafana dashboard.
    *   This file is typically generated by designing a dashboard in the Grafana UI and then exporting its JSON model.
    *   **Purpose:** To visualize metrics scraped by Prometheus from various MLOps components.
    *   **Potential Panels:**
        *   Pipeline success/failure rates and execution times.
        *   Error rates in different pipeline stages.
        *   Resource utilization (CPU, memory, disk) of MLOps services.
        *   Model serving latency and throughput (if models are deployed as services).
        *   Key business metrics affected by the models (e.g., paper trading P&L).
    *   The `grafana_dashboard.json` file provided is a basic placeholder and would need to be significantly expanded based on the actual metrics exposed and desired visualizations.

## Dashboarding Strategy

1.  **Streamlit for Detailed Analysis and Custom Visualizations:**
    *   Use Streamlit when highly custom plots or interactive data exploration is needed.
    *   Ideal for deeper dives into model behavior, data characteristics, and specific backtest results.
    *   The `streamlit_app.py` will be developed iteratively, adding new views and features as MLOps components mature.

2.  **Grafana for Operational Monitoring and Time-Series Metrics:**
    *   Use Grafana when monitoring real-time or near real-time operational metrics, especially those collected by Prometheus.
    *   Excellent for tracking system health, pipeline status, and alerting based on metric thresholds.
    *   Dashboards in Grafana are built by adding panels, each querying a data source (like Prometheus) using its query language (PromQL).

## Setup

*   **Streamlit:**
    1.  Install Streamlit: `pip install streamlit pandas matplotlib seaborn plotly quantstats`
    2.  Run the app: `streamlit run MLOps/monitoring/dashboards/streamlit_app.py`

*   **Grafana & Prometheus:**
    1.  **Prometheus:** Set up a Prometheus server to scrape metrics from your MLOps components (see `MLOps/monitoring/alerts/README.md`).
    2.  **Grafana:**
        *   Install and run Grafana.
        *   Configure Prometheus as a data source in Grafana.
        *   Import `grafana_dashboard.json` into Grafana or design dashboards using the UI.

## Development Notes

*   The `streamlit_app.py` will require access to data. This might involve reading from DVC-tracked files, databases, or artifact stores like MLflow.
*   The `grafana_dashboard.json` relies on metrics being exposed by MLOps components and collected by Prometheus. The names of these metrics in the JSON file must match those exposed and collected.

By combining Streamlit for custom, in-depth analysis and Grafana for operational time-series monitoring, the FinAI_algo project can achieve comprehensive visibility into its MLOps workflows.